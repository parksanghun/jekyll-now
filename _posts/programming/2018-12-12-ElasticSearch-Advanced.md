---
layout: post
title: Elasticsearch Advanced
categories: [programming]
tags: [elasticsearch engine setting]
published: true
---

# JVM Heap Size
```
설정할 수 있는 최대 Heap 크기는 약 32GB
주의할 사항은 일래스틱서치 JVM에 총 메모리 기준 50% 이상을 할당하지 말하야 한다
아파치 루씬의 파일 시스템 캐시에 충분한 메모리가 필요하기 때문
궁극적으로 일래스틱서치 노드에 저장되는 모든 데이터는 아파치 루씬 인덱스로 관리되고, 해당 인덱스는 파일에 빠르게 접근하기 위해 메모리를 사용한다
```

# 스와핑 비활성화
```
스와핑이 활성화되면 OS는 일반적으로 다른 프로그램에서 더 많은 메모리를 사용할 수 있도록 데이터를 디스크를 옮기는 작업, 
즉 스와핑을 사용해 애플리케이션에서 메모리를 회수하려고 한다.
일래스틱서치 노드에서는 OS가 일래스틱서치 Heap 메모리에 있는 데이터를 디스크로 옮겼다가 다시 메모리로 옮기는 작업을 수행한다.
이러한 과정은 작업 속도를 늦출 수 있기 때문에 일래스틱서치를 실행하는 노드에서는 스와핑을 비활성화해야 한다.
```

# 인덱스 별칭 설정
```
운영 환경에서는 특정 인덱스 데이터를 다른 인덱스로 옮기는 작업, 즉 색인을 다시 해야하는 상황이 발생한다.
하지만 인덱스는 JAVA, Python, .NET 등 다양한 프로그래밍 환경으로 구축한 애플리케이션에서 사용한다.
따라서 운영 환경에서 인덱스 이름을 변경하는 상황이 발생하면 애플리케이션도 마찬가지로 변경이 필요하다.
이러한 상황에서 별칭을 활용하면 문제를 쉽게 해결할 수 있다. 
별칭은 유연성이 뛰어나기에 운영 환경에서 사용하는 것을 추천한다.
```



출처
- Learning Elastic Stack 6.0

    

